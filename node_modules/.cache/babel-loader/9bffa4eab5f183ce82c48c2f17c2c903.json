{"ast":null,"code":"import axios from \"axios\";\n\nclass API {\n  static get config() {\n    return {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n  }\n\n  static get privateConfig() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    return {\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    };\n  }\n\n  static suggestedVideo(nextPage) {\n    const page = nextPage ? `?page=${nextPage}` : \"\";\n    return axios.get(`${API.url}${API.prefix}/videos/search_video/${page}`, API.privateConfig);\n  }\n\n  static search(query) {\n    return axios.get(`${API.url}${API.prefix}/videos/search_video/?title=${query}`, API.privateConfig);\n  }\n\n  static searchPagination(query, page) {\n    return axios.get(`${API.url}${API.prefix}/videos/search_video/?title=${query}&page=${page}`, API.privateConfig);\n  }\n\n  static getSubtitles({\n    id,\n    from,\n    to\n  }) {\n    const from_lang = from ? `&original=${from}` : \"\";\n    const to_lang = to ? `lang=${to}&` : \"\";\n    const path = `${API.url}${API.prefix}/subtitles/subtitles/?${to_lang}video_id=${id}${from_lang}`;\n    return axios.get(path, API.privateConfig);\n  }\n\n  static textTranslate({\n    text,\n    from,\n    to\n  }) {\n    return axios.get(`${API.url}${API.prefix}/translates/get_translate/?string=${text}&from_lang=${from}&to_lang=${to}`, API.privateConfig);\n  }\n\n  static getLanguages(currPage) {\n    return axios.get(`${API.url}${API.prefix}/videos/get_languages/${currPage ? `?page=${currPage}` : \"\"}`, API.privateConfig);\n  }\n\n  static getAllLanguages() {\n    return axios.get(`${API.url}${API.prefix}/languages/`, API.privateConfig);\n  }\n\n  static getCategories() {\n    return axios.get(`${API.url}${API.prefix}/categories/list_of_categories/`, API.privateConfig);\n  }\n\n  static getVideoLanguage(id) {\n    return axios.get(`${API.url}${API.prefix}/videos/get_video/?video_id=${id}`, API.privateConfig);\n  }\n\n  static signUp(user) {\n    return axios.post(`${API.url}${API.prefix}/users/`, user, API.config);\n  }\n\n  static signIn(user) {\n    const obj = {\n      grant_type: \"password\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      username: user.email,\n      password: user.password\n    };\n    return axios.post(`${API.url}${API.prefix}/auth/token/`, obj, API.config);\n  }\n\n  static signInSoc({\n    type,\n    token\n  }) {\n    const obj = {\n      grant_type: \"convert_token\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      backend: type,\n      token: token\n    };\n    return axios.post(`${API.url}${API.prefix}/auth/convert-token/`, obj, API.config);\n  }\n\n  static signOut() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const obj = {\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      token: user.access_token\n    };\n    return axios.post(`${API.url}${API.prefix}/auth/revoke-token`, obj, API.config);\n  }\n\n  static userCheck() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    return axios.post(`${API.url}${API.prefix}/auth/token/verify/`, {\n      token: user.access_token\n    }, API.privateConfig);\n  }\n\n  static refreshToken() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const body = {\n      grant_type: \"refresh_token\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      refresh_token: user.refresh_token\n    };\n    const headers = {\n      Authorization: `Bearer ${user.access_token}`,\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    };\n    return fetch(`${API.url}${API.prefix}/auth/token`, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(body)\n    });\n  }\n\n  static resetPass(email) {\n    return axios.post(`${API.url}${API.prefix}/users/reset-password/`, {\n      email: email\n    }, API.config);\n  }\n\n  static saveVideoToDB({\n    id,\n    title,\n    url\n  }) {\n    return axios.post(`${API.url}${API.prefix}/videos/`, {\n      video_id: id,\n      title,\n      youtube_data: {\n        img: url\n      }\n    }, API.privateConfig);\n  }\n\n  static savePhrase({\n    from_lang,\n    to_lang,\n    time,\n    original,\n    translated,\n    youtube_id,\n    video_id,\n    user\n  }) {\n    let body = {\n      youtube_id,\n      original,\n      from_lang,\n      to_lang,\n      translated,\n      time,\n      video: video_id,\n      user\n    };\n    return axios.post(`${API.url}${API.prefix}/study-sheets/`, body, API.privateConfig);\n  }\n\n  static fetchStudySheets() {\n    return axios.get(`${API.url}${API.prefix}/study-sheets/`, API.privateConfig);\n  }\n\n  static phraseComment({\n    id,\n    comment\n  }) {\n    return axios.patch(`${API.url}${API.prefix}/study-sheets/${id}/`, {\n      comment\n    }, API.privateConfig);\n  }\n\n  static fetchOnPaginationSheets(url) {\n    return axios.get(url, API.privateConfig);\n  }\n\n  static fetchVideoPhrasesRequest(id) {\n    return axios.get(`${API.url}${API.prefix}/study-sheets/?video_id=${id}`, API.privateConfig);\n  }\n\n  static searchPhrases(searchString) {\n    return axios.get(`${API.url}${API.prefix}/study-sheets/?search=${searchString}`, API.privateConfig);\n  }\n\n  static sortBy(value) {\n    return axios.get(`${API.url}${API.prefix}/study-sheets/?ordering=${value}`, API.privateConfig);\n  }\n\n  static getViewedVideo(page) {\n    return axios.get(`${API.url}${API.prefix}/videos/${page ? `?page=${page}` : \"\"}`, API.privateConfig);\n  }\n\n  static deleteSheets(id) {\n    return axios.delete(`${API.url}${API.prefix}/study-sheets/${id}/`, API.privateConfig);\n  } // TODO: remake it\n\n\n  static getVideoName(id) {\n    return axios.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${id}&key=AIzaSyAptzhSmSByELYoEM5zgVe1pps3qz-Z-Xo`, API.config);\n  }\n\n  static getUserId() {\n    return axios.get(`${API.url}${API.prefix}/users/me/`, API.privateConfig);\n  }\n\n  static getVideoDetails(id) {\n    return axios.get(`${API.url}${API.prefix}/videos/get_video/?video_id=${id}`, API.privateConfig);\n  }\n\n}\n\nAPI.prefix = `/api/v1`;\nAPI.client_id = \"CPi56cOkPxkteCpKaN0DxieloBSfGS9sWh6d6MtK\";\nAPI.client_secret = \"QdXmWKzvvl5HqWvd6EcMjvd0rHyHBNyZLaHXOfswUm0YxcB3kkNzmER4U8cONmRSyTSSD1nSgiW0UIKZaoGqF5mp06DH0J4ao3xnvIkTe5nsWScbKuAgeMYdtwiCs9gz\";\nAPI.url = window.location.hostname === \"localhost\" ? \"http://localhost:8000\" : \"\";\nexport default API;","map":{"version":3,"sources":["/Users/mac/Desktop/Learn/src/API/index.js"],"names":["axios","API","config","headers","privateConfig","user","JSON","parse","localStorage","getItem","Authorization","access_token","Accept","suggestedVideo","nextPage","page","get","url","prefix","search","query","searchPagination","getSubtitles","id","from","to","from_lang","to_lang","path","textTranslate","text","getLanguages","currPage","getAllLanguages","getCategories","getVideoLanguage","signUp","post","signIn","obj","grant_type","client_id","client_secret","username","email","password","signInSoc","type","token","backend","signOut","userCheck","refreshToken","body","refresh_token","fetch","method","stringify","resetPass","saveVideoToDB","title","video_id","youtube_data","img","savePhrase","time","original","translated","youtube_id","video","fetchStudySheets","phraseComment","comment","patch","fetchOnPaginationSheets","fetchVideoPhrasesRequest","searchPhrases","searchString","sortBy","value","getViewedVideo","deleteSheets","delete","getVideoName","getUserId","getVideoDetails","window","location","hostname"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nclass API {\n  static prefix = `/api/v1`;\n  static client_id = \"CPi56cOkPxkteCpKaN0DxieloBSfGS9sWh6d6MtK\";\n  static client_secret =\n    \"QdXmWKzvvl5HqWvd6EcMjvd0rHyHBNyZLaHXOfswUm0YxcB3kkNzmER4U8cONmRSyTSSD1nSgiW0UIKZaoGqF5mp06DH0J4ao3xnvIkTe5nsWScbKuAgeMYdtwiCs9gz\";\n  static url =\n    window.location.hostname === \"localhost\" ? \"http://localhost:8000\" : \"\";\n\n  static get config() {\n    return { headers: { \"Content-Type\": \"application/json\" } };\n  }\n\n  static get privateConfig() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    return {\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    };\n  }\n\n  static suggestedVideo(nextPage) {\n    const page = nextPage ? `?page=${nextPage}` : \"\";\n    return axios.get(\n      `${API.url}${API.prefix}/videos/search_video/${page}`,\n      API.privateConfig\n    );\n  }\n\n  static search(query) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/search_video/?title=${query}`,\n      API.privateConfig\n    );\n  }\n\n  static searchPagination(query, page) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/search_video/?title=${query}&page=${page}`,\n      API.privateConfig\n    );\n  }\n\n  static getSubtitles({ id, from, to }) {\n    const from_lang = from ? `&original=${from}` : \"\";\n    const to_lang = to ? `lang=${to}&` : \"\";\n    const path = `${API.url}${API.prefix}/subtitles/subtitles/?${to_lang}video_id=${id}${from_lang}`;\n    return axios.get(path, API.privateConfig);\n  }\n\n  static textTranslate({ text, from, to }) {\n    return axios.get(\n      `${API.url}${API.prefix}/translates/get_translate/?string=${text}&from_lang=${from}&to_lang=${to}`,\n      API.privateConfig\n    );\n  }\n\n  static getLanguages(currPage) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/get_languages/${\n        currPage ? `?page=${currPage}` : \"\"\n      }`,\n      API.privateConfig\n    );\n  }\n\n  static getAllLanguages() {\n    return axios.get(`${API.url}${API.prefix}/languages/`, API.privateConfig);\n  }\n\n  static getCategories() {\n    return axios.get(\n      `${API.url}${API.prefix}/categories/list_of_categories/`,\n      API.privateConfig\n    );\n  }\n\n  static getVideoLanguage(id) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/get_video/?video_id=${id}`,\n      API.privateConfig\n    );\n  }\n\n  static signUp(user) {\n    return axios.post(`${API.url}${API.prefix}/users/`, user, API.config);\n  }\n\n  static signIn(user) {\n    const obj = {\n      grant_type: \"password\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      username: user.email,\n      password: user.password,\n    };\n    return axios.post(`${API.url}${API.prefix}/auth/token/`, obj, API.config);\n  }\n  static signInSoc({ type, token }) {\n    const obj = {\n      grant_type: \"convert_token\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      backend: type,\n      token: token,\n    };\n    return axios.post(\n      `${API.url}${API.prefix}/auth/convert-token/`,\n      obj,\n      API.config\n    );\n  }\n\n  static signOut() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const obj = {\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      token: user.access_token,\n    };\n    return axios.post(\n      `${API.url}${API.prefix}/auth/revoke-token`,\n      obj,\n      API.config\n    );\n  }\n  static userCheck() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    return axios.post(\n      `${API.url}${API.prefix}/auth/token/verify/`,\n      {\n        token: user.access_token,\n      },\n      API.privateConfig\n    );\n  }\n  static refreshToken() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const body = {\n      grant_type: \"refresh_token\",\n      client_id: API.client_id,\n      client_secret: API.client_secret,\n      refresh_token: user.refresh_token,\n    };\n    const headers = {\n      Authorization: `Bearer ${user.access_token}`,\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n    };\n    return fetch(`${API.url}${API.prefix}/auth/token`, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(body),\n    });\n  }\n  static resetPass(email) {\n    return axios.post(\n      `${API.url}${API.prefix}/users/reset-password/`,\n      { email: email },\n      API.config\n    );\n  }\n  static saveVideoToDB({ id, title, url }) {\n    return axios.post(\n      `${API.url}${API.prefix}/videos/`,\n      { video_id: id, title, youtube_data: { img: url } },\n      API.privateConfig\n    );\n  }\n\n  static savePhrase({\n    from_lang,\n    to_lang,\n    time,\n    original,\n    translated,\n    youtube_id,\n    video_id,\n    user,\n  }) {\n    let body = {\n      youtube_id,\n      original,\n      from_lang,\n      to_lang,\n      translated,\n      time,\n      video: video_id,\n      user,\n    };\n    return axios.post(\n      `${API.url}${API.prefix}/study-sheets/`,\n      body,\n      API.privateConfig\n    );\n  }\n\n  static fetchStudySheets() {\n    return axios.get(\n      `${API.url}${API.prefix}/study-sheets/`,\n      API.privateConfig\n    );\n  }\n  static phraseComment({ id, comment }) {\n    return axios.patch(\n      `${API.url}${API.prefix}/study-sheets/${id}/`,\n      { comment },\n      API.privateConfig\n    );\n  }\n\n  static fetchOnPaginationSheets(url) {\n    return axios.get(url, API.privateConfig);\n  }\n\n  static fetchVideoPhrasesRequest(id) {\n    return axios.get(\n      `${API.url}${API.prefix}/study-sheets/?video_id=${id}`,\n      API.privateConfig\n    );\n  }\n  static searchPhrases(searchString) {\n    return axios.get(\n      `${API.url}${API.prefix}/study-sheets/?search=${searchString}`,\n      API.privateConfig\n    );\n  }\n  static sortBy(value) {\n    return axios.get(\n      `${API.url}${API.prefix}/study-sheets/?ordering=${value}`,\n      API.privateConfig\n    );\n  }\n\n  static getViewedVideo(page) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/${page ? `?page=${page}` : \"\"}`,\n      API.privateConfig\n    );\n  }\n\n  static deleteSheets(id) {\n    return axios.delete(\n      `${API.url}${API.prefix}/study-sheets/${id}/`,\n      API.privateConfig\n    );\n  }\n\n  // TODO: remake it\n  static getVideoName(id) {\n    return axios.get(\n      `https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${id}&key=AIzaSyAptzhSmSByELYoEM5zgVe1pps3qz-Z-Xo`,\n      API.config\n    );\n  }\n\n  static getUserId() {\n    return axios.get(`${API.url}${API.prefix}/users/me/`, API.privateConfig);\n  }\n\n  static getVideoDetails(id) {\n    return axios.get(\n      `${API.url}${API.prefix}/videos/get_video/?video_id=${id}`,\n      API.privateConfig\n    );\n  }\n}\nexport default API;\n"]},"metadata":{},"sourceType":"module"}